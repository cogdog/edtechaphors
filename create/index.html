<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
    <!-- big fan of your favicon 
          Fan by kareemov CC BY from the Noun Project 
          https://thenounproject.com/term/fan/2123165 -->
    <link rel="shortcut icon" type="image/png" href="bigfan.png"/>

	<!-- let the styling commence -->
	<style>
		
	    .jumbotron  {
	    	opacity: 0.8;
	    	margin-bottom:1em;
	    	min-height: 5em;
	    }
	    
	    /* longer generated messages might need smaller font size */
	    #metaphorical {
	    	font-size:4vw;
	    }

	    #footer {
			position:absolute;
			bottom:0;
			left: 0;
			color:#fff;
			font-size: 0.8em;
			line-height:1.1;
		}	
		
		#footer a {
			color:#fff;
		}
	</style>
	

	<!-- make title your own -->
    <title>Creative Prompt Machine</title>
  </head>
  <body>
  <!-- where the action happens -->
  <div class="jumbotron">
  <h1 id="metaphorical" class="display-4 text-center">Need a Prompt for a Creative Act?</h1>
  </div>
	
	<div id="main" class="container-fluid text-center">
		<button type="button" class="btn btn-primary btn-lg" id="gimme">Turn the Machine On</button>
	</div><!-- #main -->
	
	
	<div id="footer" class="container-fluid text-center">
		<p>
		<!-- background image attribution -->
			<a href="https://flickr.com/photos/cogdog/19071702529">Links Power This Machine</a> flickr photo by <a href="https://flickr.com/people/cogdog">cogdogblog</a> shared under a <a href="https://creativecommons.org/licenses/by/2.0/">Creative Commons (BY) license</a><br />
			<!-- code credit, thanks for keeping -->
			quick code by <a href="http://cog.dog/"> @cogdog</a> made for <a href="http://blog.edtechie.net/">@edtechie</a> &bull; <a href="https://github.com/cogdog/edtechaphors">available for forking</a>
		</p>
	</div>

    <!--  JavaScript libs 
           jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js" integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.1.18/jquery.backstretch.min.js" integrity="sha512-bXc1hnpHIf7iKIkKlTX4x0A0zwTiD/FjGTy7rxUERPZIkHgznXrN/2qipZuKp/M3MIcVIdjF4siFugoIc2fL0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script>
	// backstrech the background image -->
	 $.backstretch("background.jpg");


	// general purpose function to return a random index to input array
	function random(array) {
	  return Math.floor(Math.random() * array.length)
	}

	// Replaces an HTML href with the link text followed by URL 
	// to make tweetable for array elements that have links in them
	function href2text(str) {
		// pattern for matching href
		let regexpHref = /<a[^>]+href=\"(.*?)\"[^>]*>(.*?)<\/a>/gi;
		
		// get matches
		let match = regexpHref.exec(str);
		
		if (match) {
			// get the replacement
			do {
				 replacement = `${match[2]} ${match[1]}`;
			} while((match = regexpHref.exec(str)) !== null);

		   // replace the match string with the replacement
			return( str.replace(regexpHref, replacement));
		} else {
			return (str);
		}
	}

	// generate the link for a tweet this button
	//    var chirp: the message
	//    var bird: twitter name to credit
	//    var birdsong: name for this kind of generators
	// Blame/Credit Stephen Downes https://www.downes.ca/post/71841
	function tweet_it_like_a_bluebird( chirp, bird, birdsong ) {
		
		$('#birdcage').html('<a href="https://twitter.com/intent/tweet?url=' + encodeURI(window.location.href) +'&text=' + encodeURIComponent('Another generated ' + birdsong +  '\n\n' + href2text(chirp) + '\n\nBlame ' + bird  + ' for') + '" target="_blank"><img src="tweet.png" alt="Tweet"></a>');
	}


	/* All of the stuff to be randomized is created as arrays. 
	   Create more arrays to create different mixes of things to be generated. 
	   If a single quote, a apostrophe needed, enter as 
	*/
  	  
  	  // arrays of acts of creativity 
  	   let creative = [
  	   	'Write a Haiku',
  	   	'Draw with a crayon',
  	   	'Film a TV commercial',
  	   	'Make a collage',
  	   	'Make a comic strip',
  	   	'Write a sonnet',
  	   	'Create an acrostic poem',
  	   	'Write a tweet length tale',
  	   	'Sing a ballad',
  	   	'Write a limmerick',
  	   	'Record a love song',
  	   	'Develop a French dialogue',
  	   	'Pitch a TV game show',
  	   	'Develop an action film plot'
  	   
  	   ];
  	   
  	   // one character
  	   let character1 = [
			'a lonely martian',
			'William Shakespeare',
			'Wilma Flintstone',
			'Kamala Harris',
			'Lisa Simpson',
			'your weird uncle Mel',
			'Katniss Everdeen',
			'a Grasshopper',
			'Hermione Granger',
			'Doc Brown',
			'Lassie',
			'Moses',
			'Confuscius',
			'Ada Lovelace',
			'Eeyore',
			'Abraham Lincoln',
			'Elvis Presley',
			'Harry Houdini',
			'Ghengis Kham',
			'Bob Dylan',
			'a potato',
			'Lady Gaga'
			];
  	   	
  	   // another character
  	   let character2 = [

		   'Albert Einstein',
		   'you',
		   'your best childhood friend',
		   'Dr Phil',
		   'Serena Williams',
		   'Frida Kahlo',
		   'Hank Aaron',
		   'Wayne Gretzky',
		   'Madonna',
		   'Puff the Magic Dragon',
		   'the wicked witch of the west',
		   'a sad wombat',
		   'Fonzie',
		   'Kermit the Frog',
		   'the shark from Jaws',
		   'Bugs Bunny',
		   'Tweety Bird',
		   'Eleanor Roosevelt',
		   'Michelle Obama',
		   'Mr Spock'
  	   ];
  	   
  	   // a location
  	   let places = [
  	   		'the surface of the moon',
  	   		'Easter Island',
  	   		'a secluded beach',
  	   		'the Amazon rain forest',
  	   		'Times Square',
  	   		'the London Bridge',
  	   		'the bottom of the ocean',
  	   		'the Sahara Desert',
  	   		'Fargo, North Dakota',
  	   		'the outer ring of Saturn',
  	   		'Machu Piccu',
  	   		'the trunk of a 1972 Camaro',
  	   		'the top of Mount Everest',
  	   		'the Australian Outback',
  	   		'the Great Wall',
  	   		'a purple padded room',
  	   		'a secret government facility',
  	   		'Area 51',
  	   		'a hidden room inside a Mayan pyramid',
  	   		'floating down the Yellow River on a raft',
  	   		'a creepy dark basement',
  	   		'a treehouse',
  	   		'the bottom of the Grand Canyon',
  	   		'the North Pole'
  	   	];
  	   	
  	   	// things that might happen
  	   	let actions = [
  	   		'plot the overthrow of an oppressive dictator',
  	   		'enjoy a picnic of cheese and crackers',
  	   		'fall into a coma',
  	   		'flush Facebook down the toilet',
  	   		'board a flying saucer',
  	   		'eat all of the world\'s Halloween candy',
  	   		'discover a portal to another dimension',
  	   		'make radio contact with space travelers from Andromeda',
  	   		'fall asleep to the sound of classical music',
  	   		'discover an old treasure map',
  	   		'fall into a chamber of snakes (yes Indy, snakes)',
  	   		'listen blissfully to the Reykjavik orchestra',
  	   		'find that time has stopped',
  	   		'make pancakes in the kitchen',
  	   		'travel to the 12th century',
  	   		'help stir the boling cauldron of goo',
  	   		'meet Julius Caesar riding a motorbike'
  	   	];
  	   
	 
	  /* Fun random names for the buttons, edit or add more */
	 let button_names = [
		'Gimme Something Different',
		'Generate a new one',
		'Do it Again',
		'Yuck. Try again',
		'Oh no, redo!'
	];


	// generate the stuff
	// lifted somewhat from https://glitch.com/~spark-chipmunk
	function generate() {

	/* create different ways of outputting a combination of arrays above.   
	   Each element includes all of the text in backticks (not single quotes!)
	   and use the structure ${arrayname[random(arrayname)]} to insert a random
	   item from a specified array.
	   
	   The more you add here the more varied will be the responses.
	*/
	  
	  let options = [
		`${creative[random(creative)]} where ${character1[random(character1)]} and  ${character2[random(character2)]} somehow end up at ${places[random(places)]} where they  ${actions[random(actions)]}.`, 
		`${creative[random(creative)]} that has  ${character2[random(character2)]} go to ${places[random(places)]} only to find waiting there is ${character1[random(character1)]}. They decide to ${actions[random(actions)]}.`,
		`${creative[random(creative)]} where ${character2[random(character2)]} falls in love with ${character1[random(character1)]} while at ${places[random(places)]}.`,
		`${creative[random(creative)]} for that time ${character2[random(character2)]} went to ${places[random(places)]} only to discover to get home they had to ${actions[random(actions)]}.`,
		`${creative[random(creative)]} that takes place at ${places[random(places)]} and pits ${character1[random(character1)]} against ${character2[random(character2)]} in a contest to  ${actions[random(actions)]}.`
		]

	  // generate it!
	  var generated = options[random(options)];

	 // add place holder for a twitter button
  	  $('#metaphorical').html(generated + '<br /><span id="birdcage"></span>');
  	  
  	  // add the teet this button, change the tweeted name as needed (if you must)
  	  // and provide the name for the kind of thing generated
  	  tweet_it_like_a_bluebird( generated, '@cogdog', 'Creative Prompt');

	}
	// set up the generate button
	$(document).ready(function(){	
		
		$( "#gimme" ).click(function() {
			// Generate a new thing
			generate();
			
			// make the button name random too
			$("#gimme").html(button_names[random(button_names)]);
		});	
			
	});//ready

	
	</script>
  </body>
</html>