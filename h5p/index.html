<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
    <!-- big fan of your favicon 
          Fan by kareemov CC BY from the Noun Project 
          https://thenounproject.com/term/fan/2123165 -->
    <link rel="shortcut icon" type="image/png" href="bigfan.png"/>
 
	<!-- let the styling commence -->
	<style>

	    .jumbotron  {
	    	opacity: 0.8;
	    	margin-bottom:1em;
	    	min-height: 5em;
	    }
	    
	    /* longer generated messages might need smaller font size */
	    #metaphorical {
	    	font-size:4vw;
	    }

	    #footer {
			position:absolute;
			bottom:0;
			left: 0;
			color:#fff;
			font-size: 0.8em;
			line-height:1.1;
		}	
		
		#footer a {
			color:#fff;
		}
	</style>
	

	<!-- make title your own -->
    <title>Remix It Up in the H5P Kitchen</title>
  </head>
  <body>
  <!-- where the action happens -->
  <div class="jumbotron">
  <h1 id="metaphorical" class="display-4 text-center">Cooking in the Kitchen... Give me some suggestions on how to Remix some H5P.</h1>
  </div>
	
	<div id="main" class="container-fluid text-center">
		<button type="button" class="btn btn-primary btn-lg" id="gimme">Mix me a Remix</button>
	</div><!-- #main -->
	
	
	<div id="footer" class="container-fluid text-center">
		<p>
		<!-- background image attribution -->
			<a href="https://flickr.com/photos/terriem/912312488">Kitchen at Green Gulch</a> flickr photo by <a href="https://flickr.com/people/terriem">Terrie Schweitzer</a> shared under a <a href="https://creativecommons.org/licenses/by-sa/2.0/">Creative Commons (BY-SA) license</a> modified by Alan Levine<br />
			<!-- code credit, thanks for keeping -->
			quick code by <a href="http://cog.dog/"> @cogdog</a> made for <a href="http://blog.edtechie.net/">@edtechie</a> &bull; <a href="https://github.com/cogdog/edtechaphors">available for forking</a>
		</p>
	</div>
	

   <!--  JavaScript libs 
           jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js" integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.1.18/jquery.backstretch.min.js" integrity="sha512-bXc1hnpHIf7iKIkKlTX4x0A0zwTiD/FjGTy7rxUERPZIkHgznXrN/2qipZuKp/M3MIcVIdjF4siFugoIc2fL0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    
    <script>
	// backstrech the background image -->
	 $.backstretch("background.jpg");


	// general purpose function to return a random index to input array
	function random(array) {
	  return Math.floor(Math.random() * array.length)
	}

	// Replaces an HTML href with the link text followed by URL 
	// to make tweetable for array elements that have links in them
	function href2text(str) {
		// pattern for matching href
		let regexpHref = /<a[^>]+href=\"(.*?)\"[^>]*>(.*?)<\/a>/gi;
		
		// get matches
		let match = regexpHref.exec(str);
		
		if (match) {
			// get the replacement
			do {
				 replacement = `${match[2]} ${match[1]}`;
			} while((match = regexpHref.exec(str)) !== null);

		   // replace the match string with the replacement
			return( str.replace(regexpHref, replacement));
		} else {
			return (str);
		}
	}

	// generate the link for a tweet this button
	//    var chirp: the message
	//    var bird: twitter name to credit
	//    var birdsong: name for this kind of generators
	// Blame/Credit Stephen Downes https://www.downes.ca/post/71841
	function tweet_it_like_a_bluebird( chirp, bird, birdsong ) {
		
		$('#birdcage').html('<a href="https://twitter.com/intent/tweet?url=' + encodeURI(window.location.href) +'&text=' + encodeURIComponent('Another generated ' + birdsong +  '\n\n' + href2text(chirp) + '\n\nBlame ' + bird  + ' for') + '" target="_blank"><img src="tweet.png" alt="Tweet"></a>');
	}


	/* All of the stuff to be randomized is created as arrays. 
	   Create more arrays to create different mixes of things to be generated. 
	   If a single quote, a apostrophe needed, enter as 
	*/

	
	 // H5P content to start with, from eCampus Ontario H5P Studio or elsewhere, include HTML link
	  let ingredients = [
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/15001" target="_blank">Insect Order (Flashcards)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/8204" target="_blank">Teacher Word (Flashcards)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/24324" target="_blank">Hydronic Piping Layout (Flashcards)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/579" target="_blank"> Growth Mindset - Developing Your Mindset (True False Question)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/16174" target="_blank">Tool Safety (True False Question)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/15983" target="_blank">45 Degree Parallel Offset (True False Question)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/26253" target="_blank">Hospital Room (Image Hotspot)</a>',
	  	'<a href="https://h5pstudio.ecampusontario.ca/content/1811" target="_blank">Intro to Quadratics</a> (Image Hotspot)',
	  ];
  
  	  // arrays of ways to remix
	  let mixing = [
	  
	  	'Make the feedback as if it came from a kind aunt',
	  	'Change it another language',
	  	'Provide only wrong answers',
	  	'Make it take place in a different time period',
	  	'Swap the content for a different discipline',
	  	'Turn it into something like TV Game show',
	  	'Change the interface language',
	  	'Change images to something abstract',
	  	'Make it much more simple',
	  	'Make it much more complex',
	  	'Create more of a story to set it up',
	  	'Provide a different content',
	  	'Add more options or change the responses to be more verbose',
	  	'Set it up as if it takes place in the Victorian era'
	  ];
	  	 
	 
	  /* Fun random names for the buttons, edit or add more */
	 let button_names = [
		'Make Me Another',
		'More Mixes, please!',
		'Remix it Again',
		'Gimme More',
		'One More Time',
	];
	

	// generate the stuff
	// lifted somewhat from https://glitch.com/~spark-chipmunk
	function generate() {
		

	/* create different ways of outputting a combination of arrays above.   
	   Each element includes all of the text in backticks (not single quotes!)
	   and use the structure ${arrayname[random(arrayname)]} to insert a random
	   item from a specified array.
	   
	   The more you add here the more varied will be the responses.
	*/

	  let options = [
	  	`Start with ${ingredients[random(ingredients)]}. Download the H5P and change it up: ${mixing[random(mixing)]}.`, 
		`Get a copy of ${ingredients[random(ingredients)]} and modify it:  ${mixing[random(mixing)]}. `, 
		`Take ${ingredients[random(ingredients)]} and make it your own:  ${mixing[random(mixing)]}.`
		]

	  // generate it!
	  var generated = options[random(options)];

	 // add place holder for a twitter button
  	  $('#metaphorical').html(generated + '<br /><span id="birdcage"></span>');
  	  
  	  // add the teet this button, change the tweeted name as needed (if you must)
  	  // and provide the name for the kind of thing generated
  	  tweet_it_like_a_bluebird( generated, '@cogdog', 'H5P Remix Idea');

	}
	
	// set up the generate button
	$(document).ready(function(){	
		
		$( "#gimme" ).click(function() {
			// Generate a new thing
			generate();
			
			// make the button name random too
			$("#gimme").html(button_names[random(button_names)]);
		});	
			
	});//ready

	</script>
  </body>
</html>