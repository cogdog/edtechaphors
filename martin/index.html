<!doctype html>
<html lang="en">
  <head>    
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://cogdog.github.io/edtechaphors/martin/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Ed Tech Metaphors">
  <meta property="og:description" content="Generate an Ed Tech Metaphor">
  <meta property="og:image" content="https://cogdog.github.io/edtechaphors/martin/background.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="cogdog.github.io">
  <meta property="twitter:url" content="https://cogdog.github.io/edtechaphors/martin/">
  <meta name="twitter:title" content="Ed Tech Metaphors">
  <meta name="twitter:description" content="Generate an Ed Tech Metaphor">
  <meta name="twitter:image" content="https://cogdog.github.io/edtechaphors/martin/background.jpg">

  <!-- Meta Tags Generated via https://www.opengraph.xyz -->
  
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
    <!-- big fan of your favicon 
          Fan by kareemov CC BY from the Noun Project 
          https://thenounproject.com/term/fan/2123165 -->
    <link rel="shortcut icon" type="image/png" href="bigfan.png"/>
 
	<!-- let the styling commence -->
	<link rel="stylesheet" href="style.css" />


	<!-- make title your own -->
    <title>Ed Tech Metaphors</title>
  </head>
  <body>
  <!-- where the action happens -->
  <div class="jumbotron">
  <h1 id="metaphorical" class="display-4 text-center">Generate an Ed Tech Metaphor</h1>
  </div>
	
	<div id="main" class="container-fluid text-center">
		<button type="button" class="btn btn-primary btn-lg" id="gimme">Gimme Another</button>
	</div><!-- #main -->
	
	
	<div id="footer" class="container-fluid text-center">
	
	
	<p>Teilo carrying a big stick - photo by Martin Weller, CC-BY<br />
quick code by <a href="http://cog.dog/"> @cogdog</a> made for <a href="http://blog.edtechie.net/">@edtechie</a> &bull; <a href="https://github.com/cogdog/edtechaphors">available for forking</a></p>
	</div>
	

    <!--  JavaScript libs 
           jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js" integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.1.18/jquery.backstretch.min.js" integrity="sha512-bXc1hnpHIf7iKIkKlTX4x0A0zwTiD/FjGTy7rxUERPZIkHgznXrN/2qipZuKp/M3MIcVIdjF4siFugoIc2fL0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script>
	// backstrech the background image -->
	 $.backstretch("background.jpg");


	// general purpose function to return a random index to input array
	function random(array) {
	  return Math.floor(Math.random() * array.length)
	}

	// Replaces an HTML href with the link text followed by URL 
	// to make tweetable for array elements that have links in them
	function href2text(str) {
		// pattern for matching href
		let regexpHref = /<a[^>]+href=\"(.*?)\"[^>]*>(.*?)<\/a>/gi;
		
		// get matches
		let match = regexpHref.exec(str);
		
		if (match) {
			// get the replacement
			do {
				 replacement = `${match[2]} ${match[1]}`;
			} while((match = regexpHref.exec(str)) !== null);

		   // replace the match string with the replacement
			return( str.replace(regexpHref, replacement));
		} else {
			return (str);
		}
	}

	// generate the link for a tweet this button
	//    var chirp: the message
	//    var bird: twitter name to credit
	//    var birdsong: name for this kind of generators
	// Blame/Credit Stephen Downes https://www.downes.ca/post/71841
	
	
	function get_social_icon(species, isize=24) {
		// sharing button icons use BootStrap svg ones
		//    species: platform
		// ///isize  : pixel size of icon
		
		if (species == "twitter") {
			return ('<svg xmlns="http://www.w3.org/2000/svg" width="'+ isize +'" height="'+ isize +'" fill="currentColor" class="bi bi-twitter" viewBox="0 0 16 16"><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15"/></svg>');
			
		} else if (species == "mastodon")  {
			return ('<svg xmlns="http://www.w3.org/2000/svg" width="'+ isize +'" height="'+ isize +'" fill="currentColor" class="bi bi-mastodon" viewBox="0 0 16 16"><path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/></svg>');
		}
	}
	
	function share_it_like_a_bluebird( chirp, bird='', tusk='', birdsong ) {
		// return social media buttons, once it was just a burd
		//    chirp   : text of message
		//    bird    : twitter user name (blank to skip)
		//    tusk    : mastodon user name (blank to skip)
		//    birdsong: name of this generator
		
		// url for this generator
		share_url = encodeURI(window.location.href);
		
		// initialize output
		button_str = '';

		if (tusk) {
		console.log('got tusk');
			// create mastodon share button
			share_text = encodeURIComponent('Another ' + birdsong +  '\n\n' + href2text(chirp.replace(/(<([^>]+)>)/gi, "")) + '\n\nBlame ' + tusk  + ' for');
		
			button_str+= '<a href="https://mastodonshare.com/?text='+ share_text + '&url='+ share_url +'" target="_blank" class="btn btn-dark">'  + get_social_icon('mastodon', 18) + ' Mastodon</a>';
			console.log(button_str);	
		}

		
		if (bird) {
			console.log('got bird');
			// create twitter share button
			share_text = encodeURIComponent('Another ' + birdsong +  '\n\n' + href2text(chirp.replace(/(<([^>]+)>)/gi, "")) + '\n\nBlame ' + bird  + ' for');
			
			button_str+= '<a href="https://twitter.com/intent/tweet?url=' + share_url +'&text=' + share_text + '" target="_blank" class="btn btn-dark">' + get_social_icon('twitter', 18) + ' Twitter</a> ';
			console.log(button_str);	
		}
		
	
		// fill that div
		$('#birdcage').html(button_str);
	}


	/* All of the stuff to be randomized is created as arrays. 
	   Create more arrays to create different mixes of things to be generated. 
	   If a single quote, a apostrophe needed, enter as 
	*/
	
		  // arrays of metaphors- if a single quote, a apostrophe needed, enter as \'
	  let metaphor = ['baking a cake', 'caring for a houseplant', 'running a marathon', 'raising a puppy', 'quantum physics','the popular Canadian dish poutine','visiting an unknown country','the history of porcelain manufacture','the development of New York graffiti styles','the Corn Laws','the Loch Ness monster myth','the CB radio craze of the 70s','the Gargoyles of the Notre Dame','an all you can eat “Around the world” buffet','the growth of interest in vinyl records','a comfortable old coat','knitting','Homers The Iliad','gardening','the ecosystem of a small island','your favourite film','the structure of a typical horror film', 'chasing a cat', 'the use of video analysis in sports', 'the latest Silicon Valley start up model', 'writing a book'];
  
  	  // arrays of tech- if a single quote, a apostrophe needed, enter as \'
	  let tech = ['learning analytics', 'VLE', 'blockchain', 'OER', 'MOOCs', 'personalised learning','Artificial Intelligence','open textbooks','automated assessment','MCQs','digital natives','connectivism','blogging','plagiarism detection sites','lecture capture','Flipped Learning','Facebook','academics use of Twitter','open access publishing','mobile learning','learning styles','LMS','e-portfolios','Wikipedia','student-generated content','proctoring software','data surveillance'];

	  	 
	  /* Fun random names for the buttons, edit or add more */
	 let button_names = [
		'Make Me Another',
		'More Metaphors, please!',
		'Metaphor it Again',
		'Click but Write Your Own Book!',
		'Gimme More',
		'Crank it Again',
	];

	
	// generate the stuff
	// lifted somewhat from https://glitch.com/~spark-chipmunk
	function generate() {
		

	/* create different ways of outputting a combination of arrays above.   
	   Each element includes all of the text in backticks (not single quotes!)
	   and use the structure ${arrayname[random(arrayname)]} to insert a random
	   item from a specified array.
	   
	   The more you add here the more varied will be the responses.
	*/
	  
	  let options = [
	  	`Use ${metaphor[random(metaphor)]} as a metaphor for ${tech[random(tech)]}. `, 
		`How is ${metaphor[random(metaphor)]} an analogy for ${tech[random(tech)]}?`, 
		`What does ${metaphor[random(metaphor)]} tell us about ${tech[random(tech)]}?`,
		];

	  // generate it!
	  var generated = options[random(options)];

	 // update the metaphor
  	  $('#metaphorical').html('<p>' + generated + '<br /><span id="birdcage"></span></p>');
  	  
  	  // add  share buttons for Twitter and Mastodon
  	  //    comment out to skip
  	  //    First parameter is the generated text
  	  //    Second parameter is twitter user name, leave '' to skip twitter
  	  //    Third parameter is Mastodon user name, leave '' to skip Mastodon
  	  //    For name for the kind of thing generated
  	  share_it_like_a_bluebird( generated, '@cogdog', '@cogdog@social.fossdle.org', 'Edtech Metaphor');

	}
	
	// set up the generate button
	$(document).ready(function(){	
		
		$( "#gimme" ).click(function() {
			// Generate a new thing
			generate();
			
			// make the button name random too
			$("#gimme").html(button_names[random(button_names)]);
		});	
			
	});//ready

	
	</script>
  </body>
</html>